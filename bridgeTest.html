<!doctype html>
<html>
<head>
	<title>Bridge Test</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
	
	<script>
	$(function() {
		var ws = new WebSocket("ws://0.0.0.0:8080");
		var $log = $("#log");
		ws.onopen = function(evt) {
			$log.append("<p>Connection open</p>");
		}
		ws.onmessage = function(evt) {
			$log.append("<p>Received:" + evt.data + "</p>");
		}
		ws.onclose = function(evt) {
			$log.append("<p>Connection closed</p>");
		}
		$("#send").click(function(event) {
			var msg = $("#command").val();
			ws.send(msg);
			console.log("sending message:" + msg);
			$log.append("<p>Sent: " + msg + "</p>");
			event.stopPropagation();
		});
		$log.append("<p>Connection open</p>");
	});
	</script>
</head>
<body>
	<input type="text" id="command"/><button id="send">Send</button><br/>
	<div id="log">
	</div>
</body>
</html>